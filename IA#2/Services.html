<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Services - Fresh Cuts</title>
    <link rel="stylesheet" href="Services.css" />
    <!-- Cart Icon CDN -->
    <link
      href="https://cdn.jsdelivr.net/npm/boxicons@2.1.4/css/boxicons.min.css"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
    />
  </head>

  <body>
    <h1 style="text-align: center; color: white">Services</h1>
    <div class="homeicon">
      <a href="LandingPage.html"><i class="fas fa-home"></i></a>
    </div>

    <div class="Packages">
      <!-- BASIC -->
      <div class="package-card">
        <div class="basic">
          <img src="Fresh Cuts Basic.png" alt="Basic Package" />
        </div>
        <div class="description">
          <br />
          $7500 JMD
          <button
            class="add-cart-btn"
            data-name="Fresh Cut Basic"
            data-price="7500"
            aria-label="Add Fresh Cut Basic to cart"
          >
            <i class="bx bx-cart-add"></i>
          </button>
          <br /><br />
          <span style="color: green">The Fresh Cut</span>
          <span style="color: black">Basic</span>
          <br />
          includes:<br />
          Lawn mowing and trimming
        </div>
      </div>

      <!-- PREMIUM -->
      <div class="package-card">
        <div class="premium">
          <img src="Fresh Cuts Premium.png" alt="Premium Package" />
        </div>
        <div class="description">
          <br />
          $8500 JMD

          <button
            class="add-cart-btn"
            data-name="Fresh Cut Premium"
            data-price="8500"
            aria-label="Add Fresh Cut Premium to cart"
          >
            <i class="bx bx-cart-add"></i>
          </button>
          <br /><br />
          <span style="color: green">The Fresh Cut</span>
          <span style="color: red">Premium</span>
          <br />
          includes: <br />
          everything in basic + edging and cleanup
        </div>
      </div>

      <!-- EXCLUSIVE -->
      <div class="package-card">
        <div class="Exclusive">
          <img src="Fresh Cuts Exclusive.png" alt="Exclusive Package" />
        </div>
        <div class="description">
          <br />
          $10000 JMD

          <button
            class="add-cart-btn"
            data-name="Fresh Cut Exclusive"
            data-price="10000"
            aria-label="Add Fresh Cut Exclusive to cart"
          >
            <i class="bx bx-cart-add"></i>
          </button>
          <br /><br />
          <span style="color: green">The Fresh Cut</span>
          <span style="color: gold">Exclusive</span>
          <br />
          Includes: <br />
          everything in Premium + weed removal and fertilizing
        </div>
      </div>
    </div>
    <script>
      function readCartItems() {
        try {
          return JSON.parse(localStorage.getItem("cartItems") || "[]");
        } catch {
          return [];
        }
      }

      function saveCartItems(items) {
        localStorage.setItem("cartItems", JSON.stringify(items));
      }

      // increment count and store item
      function addToCart(item) {
        const currentCount = parseInt(
          localStorage.getItem("cartCount") || "0",
          10
        );
        const newCount = currentCount + 1;
        localStorage.setItem("cartCount", String(newCount));

        const items = readCartItems();
        items.push(Object.assign({ addedAt: new Date().toISOString() }, item));
        saveCartItems(items);

        // visual feedback
        animateAddedToCart();
      }

      function animateAddedToCart() {
        const btn = document.activeElement;
        if (btn && btn.classList && btn.classList.contains("add-cart-btn")) {
          btn.classList.add("added");
          setTimeout(() => btn.classList.remove("added"), 300);
        }
      }

      document.addEventListener("DOMContentLoaded", () => {
        document.querySelectorAll(".add-cart-btn").forEach((btn) => {
          btn.addEventListener("click", (e) => {
            const name = btn.dataset.name || "Service";
            const price = btn.dataset.price ? Number(btn.dataset.price) : 0;
            addToCart({ name, price });
          });
        });
      });
    </script>
  </body>
</html>
