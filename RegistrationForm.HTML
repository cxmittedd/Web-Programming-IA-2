<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Registration - Fresh Cuts</title>
    <link rel="stylesheet" href="RegistrationForm.css" />
  </head>
  <body
    style="
      background-image: url(IMG_1441.JPG);
      background-size: cover;
      background-position: center center;
      background-repeat: repeat;
      height: 100vh;
      overflow: hidden;
    "
  >
    <form id="registrationForm">
      <div class="box">
        <div class="FormHead">
          <h1>Registration Form</h1>
        </div>

        <div class="inputbox">
          <div class="FName">
            <label for="fName">First name</label>
            <input type="text" id="fName" name="firstName" required />
          </div>

          <div class="Lname">
            <label for="lName">Last Name</label>
            <input type="text" id="lName" name="lastName" required />
          </div>

          <div class="DOB">
            <label for="dob">Date of Birth</label>
            <input type="date" id="dob" name="dob" required />
          </div>

          <div class="email">
            <label for="email">Email</label>
            <input type="text" id="email" name="email" required />
          </div>

          <div class="username">
            <label for="username">Username</label>
            <input type="text" id="username" name="username" required />
          </div>

          <div class="Password">
            <label for="password">Password</label>
            <input
              type="password"
              id="password"
              name="password"
              minlength="8"
              required
            />
          </div>

          <div class="ConfirmPassword">
            <label for confirmPassword>Confirm Password</label>
            <input
              type="text"
              id="confirmPassword"
              name="confirmPassword"
              minlength="8"
              required
            />
          </div>

          <button class="CreateAccount" id="CreateAccount" type="submit">
            Create Account
          </button>
        </div>
      </div>
    </form>
    <script>
      const users = [];

      function handleFormSubmit(event) {
        event.preventDefault();

        const firstName = document.getElementById("fName").value.trim();
        const lastName = document.getElementById("lName").value.trim();
        const dob = document.getElementById("dob").value;
        const email = document.getElementById("email").value.trim();

        const username = document.getElementById("username").value.trim();
        const password = document.getElementById("password").value;
        const confirmPass = document.getElementById("confirmPassword").value;

        if (password !== confirmPass) {
          alert("Passwords do not match");
          return;
        }

        const userObj = {
          firstName: firstName,
          lastName: lastName,
          dob: dob,
          email: email,

          username: username,
          password: password,
        };

        let users = JSON.parse(localStorage.getItem("users")) || [];

        users.push(userObj);

        localStorage.setItem("users", JSON.stringify(users));

        console.warn("User added: ", userObj);
        console.warn("All users:", users);

        document.getElementById("registrationForm").reset();
      }

      document.addEventListener("DOMContentLoaded", () => {
        const form = document.getElementById("registrationForm");
        form.addEventListener("submit", handleFormSubmit);
      });
    </script>
  </body>
</html>
